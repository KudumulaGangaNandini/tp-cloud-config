spring:
  application:
    name: tp-app-notification
  servlet:
    multipart:
      max-file-size: 15MB
      max-request-size: 15MB
server:
  http2:
    enabled: true

graphql:
  servlet:
    maxQueryDepth: 100
    exception-handlers-enabled: false
    mapping: /notification/v1/graphql
  playground:
    enabled: true

voyager:
  enabled: true

notification:
  aws:
    region: ${AWS_REGION}
    access-key: ${AWS_ACCESS_KEY}
    access-secret: ${AWS_ACCESS_SECRET}
  sns:
    access-key: ${SNS_ACCESS_KEY}
    secret-key: ${SNS_SECRET_KEY}
    region: ${SNS_REGION}
  db:
    provider:
      mongodb:
        enabled: ${DB_MONGO_ENABLED:true}
      memory:
        enabled: ${DB_MEMORY_ENABLED:false}
  sms:
    enabled: ${SMS_ENABLED:true}
    provider:
      twilio: ${SMS_PROVIDER_TWILIO:true}
      aws: ${SMS_PROVIDER_AWS:false}
  email:
    enabled: ${EMAIL_ENABLED:true}
    provider:
      sendMail: ${EMAIL_PROVIDER_SENDMAIL:true}
      sendGrid: ${EMAIL_PROVIDER_SENDGRID:false}
      awsSES: ${EMAIL_PROVIDER_AWS_SES:false}
  push-notification:
    enabled: ${FIREBASE_ENABLED:true}
    provider:
      firebase: ${FIREBASE_APP:true}

  firebase:
    project_id: creed-giving-21712
    private_key_id: 3b7288069d98e9866beaea4c1de5c0d6b49cf71c
    private_key: |
      -----BEGIN PRIVATE KEY-----
      MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCMyEfMlPtS/aaA
      /mk2hzZtsFPyifzqEp6+EXiU/E8B4TtW01YpcJnX0u1DebEYCgtg5dqyreb9vwcS
      uMM/Fc8EtjxKsl32EC8MzRYSX1yq60OdXViFMma9P7rBMxlGuzN90tvhphGdJfqv
      gUqvSXTquTZQ7cGq5y0Pe8IwriYc+oNxQ3Q4OqI5V2xHFhPXBUiA7rK1GOHHOBcy
      UUMovLACJOtmruAkEooL0izPf0SKi8OxagdZRIXGwwNw5y3Zu0ZpedY8reUGsry4
      gfkku88uaOL6oPAtyeXhmJtLCI0NjMLRDrSjavZlqnyjHJf174VCFLdwSy0ccDRT
      +nRqDFV9AgMBAAECggEAAJ1+cWabICCcbDI+IhqwqTxoRqY8gas2hOAvmRrKKJj6
      6PCLjwZNDTw3e7ccLItl1dTjT70UvQM0X3VST60oCvmxUvirW4S9g+VFHD5fOcL8
      OB8BsyFPgUTa2RuAvIY2r/+J284LOuAcbyhoO9KmP2XqBGLgdFGz8gdXLDnJdKMH
      Pn9bNE4cXpYFc4uaYCfLt+8F1BEjN785DGT8L5a9kJZZ02NuI5mey9k1XADZ1TpN
      9nNpPEFlcnDCnu0+u9ziIU4Wk1vvAFpU+b80XJ77NQzXVX6ojjVjhBOwXDWChJIV
      Ome1y4jXNNkZIgBYOQx2ue+YFym/MouqEXw+sy6ZYQKBgQDCVmKqET20ahg7DsVF
      j/l/E4XUW7eKrHHTs0IYHOzeYzy4L/0TRNLwJCMv6j8BysXl64LHXLTzAN/X1XMl
      +Ch4ypyqgTw9i2MBtdqkk+ye1j1b7alWbZrNaWqcS62hq8V2oBhY5rEtWRCy+LSS
      6wHz+2ItbVqqO3KgPu6HIKm63QKBgQC5c7qmw4SUDep2yX15erSuwdMyfCTon1hG
      timPu5aZ4BuUdttXTNX2AJSHSgHeHh0avlKKURsoCWnNvh137zI0+3jwl4VhYCIi
      8unkD6gbiJ6fPHooULj/uhyOz7Z3fTUCZKu7c17PO8SNJOtpKBFM20YBVnBdVHzz
      LaKy5hbLIQKBgBUf9tGt1htKfR/OVztcjy51HNMctTLp0+XDUqf0XPs/plYPQV9a
      1+Mqynhm6jpzpFd95lVtim3v5mU72qyB8URQIf+W1MmL4VNKRV4mhk4t07Wue/3d
      JDq3/tLGlzU/ytM+S+c+DHx1dg8+YcKmsSuoY9+0R2rB04//x0YBEvIxAoGAbOQQ
      F7U71ncpUaBTpY2wI+C5Mq6EOXa+rZ5uXvAFqMpXR2BWwDbkdvK2Q43n9NT3v+k6
      q+6dpG+KiXz07qQrdcKmq5Y8ggWhZaX+QaQT0D7y7IrlK2Dij31nIU/DUvvYsVQN
      Jh7C76mnajzgYTlelyM1QrnPdm2ShHMqUiMaBSECgYAIbCXDj/KJLb0XgqUfoCGa
      vAbzJfFgkT8txqwywc/hGwl1ux2HXtNCXZvI6IrZ8OqOVOydnaSHWcV1EWZRon0y
      DGeNw47UM/8nPq//27xuYy8SftcNMBrv8VokJjNxNyeDrIhS2JSyUiMuj/K7f7G0
      rnkQECXKNMpOcKrZOkmYMw==
      -----END PRIVATE KEY-----
    client_email: firebase-adminsdk-unyq5@creed-giving-21712.iam.gserviceaccount.com
    client_id : 107847440121855273268
    token_uri: https://oauth2.googleapis.com/token
  smtp:
    host: ${SMTP_HOST}
    port: ${SMTP_PORT}
    user: ${SMTP_USER}
    password: ${SMTP_PASSWORD}
    debug: false
  templates:
    enabled: ${TEMPLATES_ENABLED}
  dms:
    enabled: ${DMS_ENABLED}
  twilio:
    accountId: ${TWILIO_ACCOUNT_ID}
    token: ${TWILIO_TOKEN}
    msId: ${TWILIO_MSID}




elasticsearch:
  enabled: ${ELASTIC_SEARCH_ENABLED:false}
  host: ${ELASTIC_SEARCH_HOST}

database:
  url: ${TP_MODELER_APP_MONGO_URI}
  name: techsophy-platform

gateway:
  uri: ${GATEWAY_URI}

springdoc:
  version: '@springdoc.version@'
  api-docs:
    path: /notification/v3/api-docs

keycloak:
  issuer-uri: ${KEYCLOAK_URL_AUTH}/auth/realms/

management:
  health:
    circuitbreakers:
      enabled: true
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: always

resilience4j:
  circuitbreaker:
    instances:
      userService:
        registerHealthIndicator: true
        evenrConsumerBufferSize: 10
        failureRateThreshold: 50
        minimumNumberOfCalls: 5
        automaticTransitionFromOpenToHalfOpenEnabled: true
        waitDurationInOpenState: 5s
        permittedNumberOfCallsInHalfOpenState: 3
        slidingWindowSize: 10
        slidingWindowType: COUNT_BASED





